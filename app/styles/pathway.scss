@import 'core/variables';

.timeline {
  margin: 0 auto;
  width: 90%;

  &__recentposts {
    background-color: $brand-color--darker;
    color: $white;
    padding: $global-padding--small;
    margin: 0 auto;
    width: 25%;
    text-align: center;
    border-radius: $border-radius;
  }

  &__container {
    list-style: none;
    margin: 0;
    padding: $global-padding-y 0;
    position: relative;

    &:before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      height: 100%;
      width: 2px;
      background: $brand-color--darker;
    }

    .timeline__panel {
      list-style: none outside none;
      position: relative;
      margin-top: 70px;

      .timeline__icon {
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -36px;
        margin-top: -36px;
      }

      p {
        font-size: 0.8em;
      }

      @media only screen and (min-width: $screen-m) {
        margin-top: 0;
        margin-bottom: -180px; //TODO: hmm... should be dynamic

        $offset: 15%;
        $icon-size: 3.5vw;

        .timeline__icon {
          top: 50%;
          left: auto;

          font-size: $icon-size;
          margin-left: -$icon-size;
          margin-top: -$icon-size;
        }

        &:after {
          content: '';
          position: absolute;
          height: 2px;
          width: $offset;
          top: 50%;
          background: $brand-color--darker;
          z-index: -1;
        }

        &:nth-child(2n+1) {
          margin-left: 50%;

          .section {
            margin-left: $offset;
          }
        }

        &:nth-child(2n+2) {
          margin-right: 50%;

          .section {
            margin-right: $offset;
          }

          .timeline__icon,
          &:after {
            right: 0;
          }

          .timeline__icon {
            margin-right: -36px; //fallback
            margin-right: -$icon-size;
          }
        }
      }

      .timeline__link {
        padding: 0 4%;

        h5 {
          color: $media-link-color;
        }
      }

      .timeline__pdf {
        padding: 0 4%;

        h5 {
          color: $media-pdf-color;
        }

      }
    }
  }
}



